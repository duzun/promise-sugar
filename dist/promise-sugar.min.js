!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).sweeten=e()}(this,(function(){"use strict";
/**
     *  Promise syntactic sugar - no need to write ".then"
     *
     *  @license MIT
     *  @version 2.3.3
     *  @git https://github.com/duzun/promise-sugar
     *  @umd AMD, Browser, CommonJs
     *  @author Dumitru Uzun (DUzun.Me)
     */var n="undefined"!=typeof Promise?Promise:("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).Promise,e=Array.isArray||function(n){return n instanceof Array};function r(e){if(this instanceof r)return r(new n(e));l(e)||(e=n.resolve(e)),f.then=f;var i=n.prototype;return f.constructor=n,f.catch=t,f.finally=o,f.timeout=u,"progress"in i&&(f.progress=i.progress),f;function f(n,t,o){return l(n)&&(arguments[0]=n=c(n)),l(t)&&(arguments[1]=t=c(t)),r(e.then.apply(e,arguments))}}function t(n){return this.then(void 0,n)}function o(n){return this.then((function(n){return e().then((function(){return n}))}),(function(n){return e().then((function(){throw n}))}));function e(){return r.resolve(n())}}function u(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=this,o=f(n),u=o,i=u.stop;return e&&(o=o.then((function(){var n=new Error("Promise Timeout");throw n.promise=t,n}))),t.then((function(){return i().catch(c)})),r.race([t,o])}function i(){var e={};return e.promise=new n((function(n,r,t){e.resolve=n,e.reject=r,t&&(e.notify=t)})),e}function f(e,r){var t,o=new n((function(n,u){var i=setTimeout(n,e,r);t=function(e){return i&&(clearTimeout(i),e?n(r):u(new Error("canceled")),i=void 0),o}}));return o.stop=t,o}function l(n){return n&&"function"==typeof n.then}function c(n){return function(){return n}}return r.resolve=function(e){return r(n.resolve(e))},r.reject=function(e){return r(n.reject(e))},r.race=function(e){return r(n.race(e))},r.all=function(e){return r(n.all(e))},r.any=function(t){return r(n.any?n.any(t):new n((function(r,o){var u=[],i=0;function f(n){var e;(u.push(n),--i)||("undefined"==typeof AggregateError?((e=new Error("All promises rejected")).name="AggregateError",e.errors=u):e=new AggregateError([u],"All promises rejected"),o(e))}e(t)||(t=Array.from(t)),t.forEach((function(e){++i,l(e)||(e=n.resolve(e)),e.then(r,f)}))})))},r.allSettled=function(e){return r(n.allSettled?n.allSettled(e):n.all(e.map((function(n){return l(n)?n.then((function(n){return{status:"fulfilled",value:n}}),(function(n){return{status:"rejected",reason:n}})):{status:"fulfilled",value:n}}))))},r.allValues=function(n){if(e(n))return r.all(n);for(var t,o=Object.keys(n),u=o.length,i=new Array(u),f=n.length===u,l=0;l<u;l++)(t=o[l])!=l&&(f=!1),i[l]=n[t];var c=r.all(i);return f||(c=c((function(n){for(var e={},r=0;r<u;r++)e[o[r]]=n[r];return e}))),c},r.when=r,r.defer=function(){var e=n.defer||i,t=e.call(n);return t.promise=r(t.promise),t},r.wait=function(n,e){var t=f(n,e),o=t.stop;return(t=r(t)).stop=o,t},r.isThenable=l,r.fn=function(n,e){return arguments.length>1?function(){return r.all(arguments)((function(r){return n.apply(e,r)}))}:function(){var e=this;return r.all(arguments)((function(r){return n.apply(e,r)}))}},r.usePromise=function(e){n=e},r.VERSION="2.3.3",r}));
//# sourceMappingURL=promise-sugar.min.js.map
